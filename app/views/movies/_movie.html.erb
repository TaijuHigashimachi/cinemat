<div class="movie-area js-touch-area-<%= movie.id %>">
  <div class="js-movie-id-<%= movie.id %> d-none"><%= movie.id %></div>
  <div class="trailer">
    <iframe src="https://www.youtube.com/embed/<%= movie.trailer_url %>" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>
  <div class="text-start mt-3 selenium-movie-title">
    <div class="row w-100">
      <div class="h2 col-11">
        <%= movie.title %>
      </div>
      <div class="col-1 text-end">
        <button type="button" data-bs-toggle="collapse" data-bs-target="#js-movie-detail-<%= movie.id %>" aria-expanded="false" aria-controls="#js-movie-detail-<%= movie.id %>" class="js-movie-detail-<%= movie.id %> movie-detail text-white">
        <i class="fa fa-chevron-down"></i>
        </button>
      </div>
    </div>
    <div class="d-flex">
      <div class="me-4 fs-6">
        <%= movie.release_date.to_s.slice(0, 4) + '年/' %>
        <%= movie.runtime + '分' %>
      </div>
      <div class="me-4 fs-6 me-auto">
        <%= movie.genres[0]['name'] + '/' %>
        <%= movie.genres[1]['name'] + '/' %>
        <%= movie.genres[2]['name'] %>
      </div>
    </div>
    <div class="collapse mt-3" id="js-movie-detail-<%= movie.id %>">
      <div class="card card-body text-start">
        <%= movie.overview %>
      </div>
    </div>
  </div>
  <% if current_user %>
    <div class="watchlist d-flex text-center fs-1 mt-2">
      <%= link_to movie_statuses_path(movie_id: movie.id, user_id: current_user.id, status: 'watch'), class: 'watch col-4 border', method: :post, local: true do %>
        <div>
          <i class="fas fa-plus-circle text-white"></i>
          <span class="fs-5 text-white align-middle">観たい</span>
        </div>
      <% end %>
      <%= link_to movie_statuses_path(movie_id: movie.id, user_id: current_user.id, status: 'watched'), class: 'watched col-4 border', method: :post, local: true do %>
        <div>
            <i class="fas fa-check-circle text-white"></i>
            <span class="fs-5 text-white align-middle">観た</span>
        </div>
      <% end %>
      <%= link_to movie_statuses_path(movie_id: movie.id, user_id: current_user.id, status: 'uninterested'), class: 'uninterested col-4 border', method: :post, local: true do %>
        <div>
            <i class="fas fa-minus-circle text-white"></i>
            <span class="fs-5 text-white align-middle">興味なし</span>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
<script>
  function pointerMove(){
    let movieId = document.querySelector('.js-movie-id-<%= movie.id %>').innerHTML;
    document.cookie = 'cinemat_movie_id=' + movieId
  }
  document.querySelector('.js-touch-area-<%=  movie.id %>').addEventListener('pointermove', pointerMove)
</script>